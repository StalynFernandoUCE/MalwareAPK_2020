--[[
	é¡¶å±‚ç­‰å¾…çª—å£ï¼Œæ?¾ç¤ºä¸€ä¸ªé»‘è‰²åŠé€æ?èƒŒæ™¯ï¼Œä¸€æ®µæ–‡å­—
	***é‡è¦***  è®°å¾—åœ¨è¦ç§»é™¤çš„åœ°æ–¹ è°ƒç”¨ self:hideWaitingView()
--]]

WaitingViewExtend = {}

function WaitingViewExtend.extend(object)
	--[[
		@brief æ?¾ç¤ºé¡¶å±‚ç­‰å¾…çª—å£
		-- @param txt:æ?¾ç¤ºæ–‡å­—ï¼Œä¸ºnilï¼Œä¸æ?¾ç¤º
	--]]
	function object:showWaitingView(txt, isSwallowsTouchs)
		if object.TopView_ then
			return
		end

		txt = txt or ""

		if isSwallowsTouchs == nil then isSwallowsTouchs = true end

		local director = cc.Director:getInstance()
		local winSize = director:getWinSize()    -- æ¸¸æˆåŒºåŸŸå¤§å°

		-- åŠ è½½å‹é»‘å±‚
		local layerC = ccui.Layout:create()
		layerC:setBackGroundColorType(1)
		layerC:setContentSize(cc.size(display.width, display.height))
		layerC:ignoreContentAdaptWithSize(false)
		layerC:setColor(cc.c3b(0, 0, 0))
		layerC:setOpacity(255*0.5)
		object:addChild(layerC, 10000)

		local size = layerC:getContentSize()
		local waitingTips = cc.Label:createWithSystemFont(txt, "arial", 32)
		layerC:addChild(waitingTips)
		waitingTips:setPosition(size.width / 2.0, size.height / 2.0)

		if isSwallowsTouchs then
			layerC:setTouchEnabled(true)
		else
			layerC:setTouchEnabled(false)
		end

		object.TopView_ = layerC
	end

	function object:hideWaitingView()
		if object.TopView_  then
			object.TopView_:removeFromParent()
			object.TopView_ = nil
		end
	end
	
end











